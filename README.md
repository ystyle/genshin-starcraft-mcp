# åŸç¥åƒæ˜Ÿå¥‡åŸŸæ•™ç¨‹ MCP æœåŠ¡å™¨

åŸºäº Go + rod + MCP çš„åŸç¥åƒæ˜Ÿå¥‡åŸŸæ•™ç¨‹å†…å®¹æœåŠ¡å™¨ï¼Œæ”¯æŒå®æ—¶æœç´¢å’Œå†…å®¹è·å–ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ” æ™ºèƒ½æœç´¢
- æ¨¡æ‹Ÿå®˜ç½‘æœç´¢åŠŸèƒ½
- æ”¯æŒå…³é”®è¯æœç´¢
- è¿”å›æœç´¢ç»“æœåˆ—è¡¨

### ğŸ“š å†…å®¹è·å–
- è·å–å®Œæ•´æ•™ç¨‹å†…å®¹
- æ”¯æŒæŒ‰ç« èŠ‚è·å–
- æ™ºèƒ½å†…å®¹åˆ†å—å¤„ç†å¤§é¡µé¢

### ğŸ“‹ å†…å®¹è§£æ
- æ•™ç¨‹æ¦‚è¦ç”Ÿæˆ
- ç›®å½•ç»“æ„æå–
- è¡¨æ ¼å’Œå‚æ•°è§£æ

### âš¡ é«˜æ€§èƒ½
- æ™ºèƒ½ç¼“å­˜æœºåˆ¶
- Go + rod è½»é‡çº§æ¶æ„
- æ”¯æŒå¹¶å‘è¯·æ±‚

## å®‰è£…å’Œè¿è¡Œ

### å‰ç½®è¦æ±‚
- Go 1.21+
- Chrome/Chromium æµè§ˆå™¨

### å®‰è£…ä¾èµ–
```bash
cd star-rail-mcp
go mod tidy
```

### è¿è¡ŒæœåŠ¡å™¨
```bash
go run cmd/server/main.go
```

## MCP å·¥å…·

### search_tutorials
æœç´¢åŸç¥åƒæ˜Ÿå¥‡åŸŸæ•™ç¨‹ã€‚

**å‚æ•°ï¼š**
- `query` (string, required): æœç´¢å…³é”®è¯

**ç¤ºä¾‹ï¼š**
```json
{
  "name": "search_tutorials",
  "arguments": {
    "query": "åœ°å½¢ç¼–è¾‘"
  }
}
```

### get_tutorial_content
è·å–æŒ‡å®šæ•™ç¨‹çš„å®Œæ•´å†…å®¹ã€‚

**å‚æ•°ï¼š**
- `url` (string, required): æ•™ç¨‹URL
- `section` (string, optional): ç‰¹å®šç« èŠ‚ID

**ç¤ºä¾‹ï¼š**
```json
{
  "name": "get_tutorial_content",
  "arguments": {
    "url": "https://act.mihoyo.com/ys/ugc/tutorial/detail/mhwe1n94b1x6"
  }
}
```

### get_tutorial_summary
è·å–æ•™ç¨‹æ¦‚è¦å’Œè¦ç‚¹ã€‚

**å‚æ•°ï¼š**
- `url` (string, required): æ•™ç¨‹URL

**ç¤ºä¾‹ï¼š**
```json
{
  "name": "get_tutorial_summary",
  "arguments": {
    "url": "https://act.mihoyo.com/ys/ugc/tutorial/detail/mhwe1n94b1x6"
  }
}
```

### get_tutorial_outline
è·å–æ•™ç¨‹ç›®å½•ç»“æ„ã€‚

**å‚æ•°ï¼š**
- `url` (string, required): æ•™ç¨‹URL

**ç¤ºä¾‹ï¼š**
```json
{
  "name": "get_tutorial_outline",
  "arguments": {
    "url": "https://act.mihoyo.com/ys/ugc/tutorial/detail/mhwe1n94b1x6"
  }
}
```

## é¡¹ç›®ç»“æ„

```
star-rail-mcp/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go           # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ pkg/
â”‚   â”œâ”€â”€ mcp/
â”‚   â”‚   â”œâ”€â”€ mcp_server.go    # MCPæœåŠ¡å™¨å®ç°
â”‚   â”‚   â””â”€â”€ server.go        # ç®€å•å‘½ä»¤è¡Œç‰ˆæœ¬
â”‚   â”œâ”€â”€ scraper/              # ç½‘é¡µæŠ“å–æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ browser.go       # rodæµè§ˆå™¨æ“ä½œ
â”‚   â”‚   â””â”€â”€ search.go        # æœç´¢å’Œå†…å®¹æå–
â”‚   â””â”€â”€ models/               # æ•°æ®æ¨¡å‹
â”‚       â””â”€â”€ tutorial.go       # æ•™ç¨‹ç›¸å…³æ¨¡å‹
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â””â”€â”€ README.md
```

## æŠ€æœ¯ç‰¹ç‚¹

- **Go + rod**: é«˜æ€§èƒ½æ— å¤´æµè§ˆå™¨æ“ä½œ
- **MCPåè®®**: æ ‡å‡†åŒ–å·¥å…·æ¥å£
- **æ™ºèƒ½ç¼“å­˜**: å‡å°‘é‡å¤è¯·æ±‚ï¼Œæé«˜å“åº”é€Ÿåº¦
- **å†…å®¹åˆ†å—**: å¤„ç†å¤§é¡µé¢ï¼Œé¿å…ä¸Šä¸‹æ–‡é™åˆ¶
- **å®æ—¶æœç´¢**: æ¨¡æ‹Ÿå®˜ç½‘æœç´¢ä½“éªŒ

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°å·¥å…·
1. åœ¨ `pkg/mcp/mcp_server.go` ä¸­æ·»åŠ æ–°å·¥å…·
2. å®ç°å¯¹åº”çš„æ–¹æ³•
3. åœ¨ `Start()` å‡½æ•°ä¸­æ³¨å†Œå·¥å…·

### ä¿®æ”¹æµè§ˆå™¨é€»è¾‘
- æµè§ˆå™¨æ“ä½œé€»è¾‘åœ¨ `pkg/scraper/` ç›®å½•
- æ”¯æŒæ·»åŠ æ–°çš„é€‰æ‹©å™¨å’Œè§£æé€»è¾‘

### æ•°æ®æ¨¡å‹
- æ•°æ®æ¨¡å‹å®šä¹‰åœ¨ `pkg/models/tutorial.go`
- æ”¯æŒæ‰©å±•æ–°çš„å­—æ®µå’Œç»“æ„

## è®¸å¯è¯

MIT License